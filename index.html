<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Car Choice Helper</title>
  <!-- Loading up Google fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:wght@400;700&family=Open+Sans:ital,wght@0,300;0,400;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="styles.css">
  <!-- D3JS for graphing -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.js"></script>
  <script type="text/javascript" src="data.js"></script>
  <script type="text/javascript" src="chart_data.js"></script>
  <script type="text/javascript" src="index.js"></script>
</head>
<body>
  <!-- MAIN SECTION -->
  <div id="main-section">
    <span class="h1"><span>Car Selection Tool</span></span>
    <div class="sh1">CMS.631 Data Storytelling Project</div>
    <br>

    <!-- section 0 -->
    <div class="section">
      <div class="small-view" onclick="setActiveSection(0)">
        Introducing this tool
      </div>
      <div class="big-view">
        In the following section, give us your preferences, and we will tell you
        what car is best for you.
      </div>
      <div class="next-section"><div onclick="setNextSection()">Next</div></div>
    </div>

    <!-- section 1 -->
    <div class="section">
      <div class="small-view" onclick="setActiveSection(1)">
        small view: TODO: section 1
      </div>
      <div class="big-view">
        <span class="h3"><span>Highway vs. City</span></span>
        <p>
        I spend about
        <input type="number" id="highwayPercentage" name="highwayPercentage" min="0" max="100" value="50" onchange="updateHighwayPercentage(this.value)">
        % of my time driving on the highway versus driving in the city.
        </p>
      </div>
      <div class="next-section"><div onclick="setNextSection()">Next</div></div>
    </div>

    <!-- section 2 -->
    <div class="section">
      <div class="small-view" onclick="setActiveSection(2)">
        small view. TODO: section 2
      </div>
      <div class="big-view">
        <span class="h3"><span>Environmental Footprint</span></span>
        <p>
        I
        <select id="environment" onchange="updateEnvironmentCare(this.value)">
            <option value="1">do not care</option>
            <option value="4">somewhat care</option>
            <option value="7">care</option>
        </select>
         about my car's effect on the environment.
        </p>
      </div>
      <div class="next-section"><div onclick="setNextSection()">Next</div></div>
    </div>

    <!-- section 3 -->
    <div class="section">
      <div class="small-view" onclick="setActiveSection(3)">
        small view. TODO: section 3
      </div>
      <div class="big-view">
        <span class="h3"><span>Car Size</span></span>
        I am looking for a
        <select id="cars" onchange="updateCarType(this.value)">
            <option value="small car">
                small car
            </option>
            <option value="midsize car">
                midsize car
            </option>
            <option value="large car">
                large car
            </option>
            <option value="small SUV">
                small SUV
            </option>
            <option value="standard SUV">
                standard SUV
            </option>
            <option value="minivan">
                minivan
            </option>
            <option value="pickup">
                pickup
            </option>
            <option value="station wagon">
                station wagon
            </option>
        </select>
      </div>
      <div class="next-section"><div onclick="setNextSection()">Next</div></div>
    </div>

    <!-- section 4 -->
    <div class="section">
      <div class="small-view" onclick="setActiveSection(4)">
        small view: TODO section 4
      </div>
      <div class="big-view">
        <span class="h4"><span>Car Wheel-Drive</span></span>
        and I prefer to have
        <select id="WD" onchange="updateWheelDrive(this.value)">
            <option value="either">2 or 4</option>
            <option value="2WD">2</option>
            <option value="4WD">4</option>
        </select> wheel-drive.
      </div>
      <div class="next-section"><div onclick="setNextSection()">Next</div></div>
    </div>

    <!-- section 5 -->
    <div class="section">
      <div class="small-view" onclick="setActiveSection(5)">
        small view: TODO section 5
      </div>
      <div class="big-view">
        <span class="h3"><span>Car Spending</span></span>
        I am looking to spend between $
        <input type="number" id="minPrice" name="minPrice" min="0" max=9000000 value="0" onchange="updateMin(this.value)">
        and $
        <input type="number" id="maxPrice" name="maxPrice" min="0" max=9000000 value="100000" onchange="updateMax(this.value)">
        .
      </div>
      <div class="next-section"><div onclick="setNextSection()">Next</div></div>
    </div>

    <!-- Results -->
    <div id="CSS-result-separator">
        <h1 class="CSS-section-title">Results (sorted by MPG)</h1>
    </div>

    <div class="CSS-section-result" id="topVehicles">

    </div>

    <div class="section" id="graph-section">
        <h1 class="CSS-section-title">Graphs</h1>
        <h2 class="CSS-section-subtitle">Pollution to Price Comparison<h2>
        <img src="img/pollution-to-price-comparison.png" />
        <h2 class="CSS-section-subtitle">Average Number of Cylinders to Air Pollution Score<h2>
        <img src="img/average-cylinders-to-air-pollution-score.png" />
        <h2 class="CSS-section-subtitle">Average Number of Cylinders to Green House Gas Score<h2>
        <img src="img/average-cylinders-to-ghg-score.png" />
    </div>

    <div class="section" id="sample-section">
      <h1 class="CSS-section-tittle">Sample Index</h1>
      If you chose that that you
      <ul>
        <li class="CSS-sample-selection">
          spent <span class="CSS-ss-emph">75%</span> of your driving on the highway,
        </li>
        <li class="CSS-sample-selection">
          <span class="CSS-ss-emph">cared</span> about the effect of your car on the environment,
        </li>
        <li class="CSS-sample-selection">
          were looking for a <span class="CSS-ss-emph">midsized</span> car,
        </li>
        <li class="CSS-sample-selection">
          prefered to have a <span class="CSS-ss-emph">2-wheel-drive</span>,
        </li>
        <li class="CSS-sample-selection">
          and were looking to spend between <span class="CSS-ss-emph">$0 and $45,000</span>,
        </li>
      </ul>
      then, you would get the following list of cars (in order)
      <ol id="sample-selection-list"></ol>
      <!-- Using this d3.js script to put stuffs inside the sample Index list -->
      <script>
        (function() {
          const ol = d3.select("ol#sample-selection-list")
          ol.selectAll("li")
            .data(ChartData.sample_selection)
            .join('li')
            .text(d => `${d.model}`);
        })();
      </script>
      and the graph that we would display is the following:
      </br>
      </br>
      <div id="graph-with-sample-selection">
        <img
          id="IMG-graph-with-sample-selection"
          src="img/graph-with-sample-selection.png"
          alt="Graph with the above car selection" />
      </div>
    </div>
    <div id="copyright">By Tyler, Fernanda, Robert</div>
    </br>
  </div>
  <!-- SIDE RESULTS -->
  <div id="side-results">
    <span class="h2"><span>Quick Results</span></span>
    <div></div>
    <script>
      (function() {
        const ol = d3.select("#side-results div")
        ol.selectAll("span")
          .data([1,2,3,4,5,6])
          .join("span")
          .append("div")
          .text(d => `result ${d}`);
      })();
    </script>
  </div>
</body>
</html>
